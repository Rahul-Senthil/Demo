{"ast":null,"code":"import _asyncToGenerator from\"D:/React Projects/rental-app/rental/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/React Projects/rental-app/rental/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\React Projects\\\\rental-app\\\\rental\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from'axios';import React from'react';import{useEffect}from'react';import{useState}from'react';import'../css/AllPost.css';import{FaSearch,FaHome,FaRupeeSign,FaBed,FaPhoneAlt}from'react-icons/fa';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AllPost=function AllPost(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState('Address'),_useState4=_slicedToArray(_useState3,2),sortBy=_useState4[0],setSortBy=_useState4[1];useEffect(function(){var fetchPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:8000/allpost\").then(function(res){setPosts(res.data);console.log(res.data);}).catch(function(err){return console.log(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function fetchPost(){return _ref.apply(this,arguments);};}();fetchPost();},[]);var handleSearchBy=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setSortBy(e.target.value);console.log(e.target.value);case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSearchBy(_x){return _ref2.apply(this,arguments);};}();var searchKey=/*#__PURE__*/React.createRef();var handleSearch=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var key;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log('he');// const searchBy = {\n//     searchKey: searchKey.current.value,\n//     sortBy\n// }\nkey=searchKey.current.value;// console.log(searchBy);\n_context3.next=4;return axios.get(\"http://localhost:8000/search?searchKey=\".concat(key,\"&sortBy=\").concat(sortBy)).then(function(res){return setPosts(res.data);}).catch(function(err){return console.log(err);});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function handleSearch(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid allpost\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search col\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"filter\",onChange:handleSearchBy,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Address\",children:\"Location\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Rent\",children:\"Rent\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Rooms\",children:\"Bed Rooms\"})]}),/*#__PURE__*/_jsx(\"input\",{className:\"search-bar\",type:\"text\",placeholder:\"Search\",ref:searchKey,onKeyPress:function onKeyPress(event){return event.key==='Enter'?handleSearch():'';}}),/*#__PURE__*/_jsx(FaSearch,{className:\"search-btn\",onClick:handleSearch})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Rent a \",/*#__PURE__*/_jsx(\"span\",{style:{color:\"black\"},children:\"House\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row posts\",children:posts.map(function(p){return/*#__PURE__*/_jsxs(\"div\",{className:\"card each-post col-lg-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:p.imgUrl[0].url,className:\"card-img-top\",alt:\"...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Location \",/*#__PURE__*/_jsx(FaHome,{})]}),\" : \",p.address]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Contact Number \",/*#__PURE__*/_jsx(FaPhoneAlt,{})]}),\" : \",p.mobile]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Rent \",/*#__PURE__*/_jsx(FaRupeeSign,{})]}),\" : \",p.rent]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Bed Rooms \",/*#__PURE__*/_jsx(FaBed,{})]}),\" : \",p.description]}),/*#__PURE__*/_jsx(\"button\",{className:\"details-btn\",onClick:function onClick(){window.location.href=\"/post/\".concat(p._id);},children:\"View Full Details\"})]})]});})})]})]});};export default AllPost;","map":{"version":3,"sources":["D:/React Projects/rental-app/rental/src/components/AllPost.jsx"],"names":["axios","React","useEffect","useState","FaSearch","FaHome","FaRupeeSign","FaBed","FaPhoneAlt","AllPost","posts","setPosts","sortBy","setSortBy","fetchPost","get","then","res","data","console","log","catch","err","handleSearchBy","e","target","value","searchKey","createRef","handleSearch","key","current","event","color","map","p","imgUrl","url","address","mobile","rent","description","window","location","href","_id"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React from 'react'\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport '../css/AllPost.css';\r\nimport {FaSearch, FaHome, FaRupeeSign, FaBed, FaPhoneAlt} from 'react-icons/fa';\r\n\r\nconst AllPost = () => {\r\n    const [posts, setPosts] = useState([]);\r\n    const [sortBy, setSortBy] = useState('Address');\r\n    \r\n    useEffect(() =>{\r\n        const fetchPost = async() => {\r\n            await axios.get(\"http://localhost:8000/allpost\")\r\n            .then(res => {\r\n                setPosts(res.data);\r\n                console.log(res.data);\r\n            })\r\n            .catch(err => console.log(err));\r\n        }\r\n        fetchPost();\r\n    },[])\r\n\r\n    const handleSearchBy = async(e) => {\r\n        setSortBy(e.target.value);\r\n        console.log(e.target.value);\r\n    }\r\n    const searchKey = React.createRef();\r\n    const handleSearch = async() =>{\r\n        console.log('he');\r\n        // const searchBy = {\r\n        //     searchKey: searchKey.current.value,\r\n        //     sortBy\r\n        // }\r\n        const key = searchKey.current.value;\r\n        // console.log(searchBy);\r\n        await axios.get(`http://localhost:8000/search?searchKey=${key}&sortBy=${sortBy}`)\r\n        .then(res => setPosts(res.data))\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n\r\n    return ( \r\n        <div className='container-fluid allpost'>\r\n            <div className='row'>\r\n                <div className='search col'>\r\n                <select className='filter' onChange={handleSearchBy}>\r\n                    <option value=\"Address\">Location</option>\r\n                    <option value=\"Rent\">Rent</option>\r\n                    <option value=\"Rooms\">Bed Rooms</option>\r\n                </select>\r\n                <input className='search-bar' type=\"text\" placeholder='Search' ref={searchKey} onKeyPress={event => event.key === 'Enter'? handleSearch() : ''}/>\r\n                {/* <button className='search-btn' onClick={handleSearch}>Search</button> */}\r\n                <FaSearch className='search-btn' onClick={handleSearch}/>\r\n                </div>\r\n            </div>\r\n            <div className='post-container'>\r\n                <h1>Rent a <span style={{color: \"black\"}}>House</span></h1>\r\n                <div className=\"row posts\">\r\n                {posts.map(p => (\r\n                    <div className=\"card each-post col-lg-4\" >\r\n                    <img src={p.imgUrl[0].url} className=\"card-img-top\" alt=\"...\"/>\r\n                    <div className=\"card-body\">\r\n                        <p><span>Location <FaHome/></span> : {p.address}</p>\r\n                        <p><span>Contact Number <FaPhoneAlt/></span> : {p.mobile}</p>\r\n                        <p><span>Rent <FaRupeeSign/></span> : {p.rent}</p>\r\n                        <p><span>Bed Rooms <FaBed/></span> : {p.description}</p>\r\n                        <button className='details-btn' onClick={() => {window.location.href = `/post/${p._id}`}}>View Full Details</button>\r\n                    </div>\r\n                    </div>\r\n                ))}\r\n                </div>\r\n                {/* {posts.map(p => (\r\n                    <div onClick={() => {window.location.href = `/post/${p._id}`}}>\r\n                        {p.imgUrl.map(i => (\r\n                            <img src={i.url} alt=\"\" width={300}/>\r\n                        ))}\r\n                        <p>{p.address}</p>\r\n                        <p>{p.mobile}</p>\r\n                        <p>{p.rent}</p>\r\n                        </div>\r\n                ))} */}\r\n            </div>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default AllPost;"]},"metadata":{},"sourceType":"module"}