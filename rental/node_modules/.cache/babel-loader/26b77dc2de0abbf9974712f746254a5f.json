{"ast":null,"code":"import _slicedToArray from\"D:/React Projects/rental-app/rental/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import jwtDecode from'jwt-decode';import{NavLink}from'react-bootstrap';import'../css/Navbar.css';import{FaHamburger}from'react-icons/fa';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=function Navbar(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){var fetchToken=function fetchToken(){var token=sessionStorage.getItem(\"secretToken\");console.log(token);if(token){var _user=jwtDecode(token);setUser({user_id:_user.currentUser,username:_user.username});}};fetchToken();},[]);var handleLogout=function handleLogout(){sessionStorage.removeItem(\"secretToken\");};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"nav\",{class:\"navbar navbar-expand-lg\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"a\",{class:\"navbar-brand\",href:\"#\",children:\"Rently\"}),/*#__PURE__*/_jsx(\"button\",{class:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(FaHamburger,{className:\"hamburger\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"collapse navbar-collapse\",id:\"navbarNav\",children:/*#__PURE__*/_jsxs(\"ul\",{class:\"navbar-nav\",children:[/*#__PURE__*/_jsx(\"li\",{class:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{class:\"nav-link\",\"aria-current\":\"page\",href:\"/home\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{class:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{class:\"nav-link\",\"aria-current\":\"page\",href:\"/posts\",children:\"Post\"})}),user.username?/*#__PURE__*/_jsx(\"li\",{class:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{class:\"nav-link\",href:\"/account/\".concat(user.user_id),children:user.username})}):'',user.username?/*#__PURE__*/_jsx(\"li\",{class:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{class:\"nav-link\",href:\"/\",children:/*#__PURE__*/_jsx(\"span\",{onClick:handleLogout,children:\"Logout\"})})}):/*#__PURE__*/_jsx(\"li\",{class:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{class:\"nav-link\",href:\"/login\",children:\"Login\"})})]})})]})})});};export default Navbar;","map":{"version":3,"sources":["D:/React Projects/rental-app/rental/src/components/Navbar.jsx"],"names":["React","useEffect","useState","jwtDecode","NavLink","FaHamburger","Navbar","user","setUser","fetchToken","token","sessionStorage","getItem","console","log","user_id","currentUser","username","handleLogout","removeItem"],"mappings":"yHAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,MAAO,mBAAP,CACA,OAASC,WAAT,KAA4B,gBAA5B,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CAEjB,cAAwBJ,QAAQ,CAAC,EAAD,CAAhC,wCAAOK,IAAP,eAAaC,OAAb,eAEAP,SAAS,CAAC,UAAM,CACZ,GAAMQ,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB,GAAMC,CAAAA,KAAK,CAAGC,cAAc,CAACC,OAAf,CAAuB,aAAvB,CAAd,CACAC,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EACA,GAAGA,KAAH,CACA,CACI,GAAMH,CAAAA,KAAI,CAAGJ,SAAS,CAACO,KAAD,CAAtB,CACAF,OAAO,CAAC,CAACO,OAAO,CAAER,KAAI,CAACS,WAAf,CAA4BC,QAAQ,CAAEV,KAAI,CAACU,QAA3C,CAAD,CAAP,CACH,CACJ,CARD,CASAR,UAAU,GACb,CAXQ,CAWP,EAXO,CAAT,CAaA,GAAMS,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBP,cAAc,CAACQ,UAAf,CAA0B,aAA1B,EACH,CAFD,CAGA,mBACI,kCACA,YAAK,KAAK,CAAC,yBAAX,uBACA,aAAK,KAAK,CAAC,iBAAX,wBACI,UAAG,KAAK,CAAC,cAAT,CAAwB,IAAI,CAAC,GAA7B,oBADJ,cAEI,eAAQ,KAAK,CAAC,gBAAd,CAA+B,IAAI,CAAC,QAApC,CAA6C,iBAAe,UAA5D,CAAuE,iBAAe,YAAtF,CAAmG,gBAAc,WAAjH,CAA6H,gBAAc,OAA3I,CAAmJ,aAAW,mBAA9J,uBACA,KAAC,WAAD,EAAa,SAAS,CAAC,WAAvB,EADA,EAFJ,cAKI,YAAK,KAAK,CAAC,0BAAX,CAAsC,EAAE,CAAC,WAAzC,uBACA,YAAI,KAAK,CAAC,YAAV,wBACI,WAAI,KAAK,CAAC,UAAV,uBACA,KAAC,OAAD,EAAS,KAAK,CAAC,UAAf,CAA0B,eAAa,MAAvC,CAA8C,IAAI,CAAC,OAAnD,kBADA,EADJ,cAII,WAAI,KAAK,CAAC,UAAV,uBACA,KAAC,OAAD,EAAS,KAAK,CAAC,UAAf,CAA0B,eAAa,MAAvC,CAA8C,IAAI,CAAC,QAAnD,kBADA,EAJJ,CAOKZ,IAAI,CAACU,QAAL,cACD,WAAI,KAAK,CAAC,UAAV,uBACA,KAAC,OAAD,EAAS,KAAK,CAAC,UAAf,CAA0B,IAAI,oBAAcV,IAAI,CAACQ,OAAnB,CAA9B,UAA6DR,IAAI,CAACU,QAAlE,EADA,EADC,CAGK,EAVV,CAWKV,IAAI,CAACU,QAAL,cACD,WAAI,KAAK,CAAC,UAAV,uBACA,KAAC,OAAD,EAAS,KAAK,CAAC,UAAf,CAA0B,IAAI,CAAC,GAA/B,uBAAmC,aAAM,OAAO,CAAEC,YAAf,oBAAnC,EADA,EADC,cAID,WAAI,KAAK,CAAC,UAAV,uBACA,KAAC,OAAD,EAAS,KAAK,CAAC,UAAf,CAA0B,IAAI,CAAC,QAA/B,mBADA,EAfJ,GADA,EALJ,GADA,EADA,EADJ,CA4CH,CAhED,CAkEA,cAAeZ,CAAAA,MAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport jwtDecode from 'jwt-decode';\r\nimport { NavLink } from 'react-bootstrap';\r\nimport '../css/Navbar.css';\r\nimport { FaHamburger } from 'react-icons/fa';\r\n \r\nconst Navbar = () => {\r\n\r\n    const [user, setUser] = useState({});\r\n\r\n    useEffect(() => {\r\n        const fetchToken = () => {\r\n            const token = sessionStorage.getItem(\"secretToken\");\r\n            console.log(token);\r\n            if(token)\r\n            {\r\n                const user = jwtDecode(token);\r\n                setUser({user_id: user.currentUser, username: user.username});\r\n            }\r\n        }\r\n        fetchToken();\r\n    },[])\r\n\r\n    const handleLogout = () => {\r\n        sessionStorage.removeItem(\"secretToken\");\r\n    }\r\n    return ( \r\n        <div>\r\n        <nav class=\"navbar navbar-expand-lg\">\r\n        <div class=\"container-fluid\">\r\n            <a class=\"navbar-brand\" href=\"#\">Rently</a>\r\n            <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <FaHamburger className='hamburger'/>\r\n            </button>\r\n            <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n            <ul class=\"navbar-nav\">\r\n                <li class=\"nav-item\">\r\n                <NavLink class=\"nav-link\" aria-current=\"page\" href=\"/home\">Home</NavLink>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                <NavLink class=\"nav-link\" aria-current=\"page\" href=\"/posts\">Post</NavLink>\r\n                </li>\r\n                {user.username?\r\n                <li class=\"nav-item\">\r\n                <NavLink class=\"nav-link\" href={`/account/${user.user_id}`}>{user.username}</NavLink>\r\n                </li>:''}\r\n                {user.username?\r\n                <li class=\"nav-item\">\r\n                <NavLink class=\"nav-link\" href='/'><span onClick={handleLogout}>Logout</span></NavLink>\r\n                </li>:\r\n                <li class=\"nav-item\">\r\n                <NavLink class=\"nav-link\" href=\"/login\">Login</NavLink>\r\n                </li>}\r\n            </ul>\r\n            </div>\r\n        </div>\r\n        </nav>\r\n        {/* <div>\r\n            <ul>\r\n                <li><a href=\"/\">Home</a></li>\r\n                { user.username? \r\n                <div>\r\n                <li><a href={`/account/${user.user_id}`}>{user.username}</a></li> \r\n                <li><a href=\"/\"><span onClick={handleLogout}>Logout</span></a></li>\r\n                </div> :\r\n                <li><a href=\"/login\">Login</a></li> }\r\n            </ul>\r\n        </div> */}\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Navbar;"]},"metadata":{},"sourceType":"module"}