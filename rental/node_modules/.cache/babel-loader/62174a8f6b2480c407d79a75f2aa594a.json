{"ast":null,"code":"import _asyncToGenerator from\"D:/React Projects/rental-app/rental/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/React Projects/rental-app/rental/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\React Projects\\\\rental-app\\\\rental\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from'axios';import React,{useState}from'react';import{useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CheckPin=function CheckPin(){var _useLocation=useLocation(),state=_useLocation.state;console.log(state);var _useState=useState(state),_useState2=_slicedToArray(_useState,2),userCredentials=_useState2[0],setUserCredentials=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),customError=_useState4[0],setCustomError=_useState4[1];var checkCode=/*#__PURE__*/React.createRef();console.log(userCredentials.sixDigitCode);var handleRegister=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(checkCode.current.value==userCredentials.sixDigitCode)){_context.next=5;break;}_context.next=3;return axios.post(\"http://localhost:8000/auth/register\",userCredentials).then(function(res){console.log(res.data);var jwt=res.data.token;sessionStorage.setItem(\"secretToken\",jwt);window.location.href='/home';}).catch(function(err){return console.log(err);});case 3:_context.next=6;break;case 5:setCustomError(\"Wrong Pin\");case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleRegister(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"#e8e8e8\",height:\"690px\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:\"center\",fontFamily:\"'Poppins', sans-serif\",fontWeight:\"bold\"},children:\"Enter the 6 Digit Code\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"6 Digit Code\",ref:checkCode,required:true,style:{width:\"200px\",height:\"40px\",border:\"1px solid rgb(236, 89, 138)\",outline:\"none\",borderRadius:\"8px\",paddingLeft:\"10px\",fontFamily:\"'Poppins', sans-serif\",fontWeight:\"bold\",marginTop:\"20px\"}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),customError?/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",fontFamily:\"'Poppins', sans-serif\",fontWeight:\"bold\"},children:customError}):'',/*#__PURE__*/_jsx(\"button\",{onClick:handleRegister,style:{width:\"200px\",height:\"40px\",border:\"none\",outline:\"none\",backgroundColor:\"rgb(236, 89, 138)\",fontFamily:\"'Poppins', sans-serif\",fontWeight:\"bold\",borderRadius:\"8px\"},children:\"Confirm\"})]})})]});};export default CheckPin;","map":{"version":3,"sources":["D:/React Projects/rental-app/rental/src/components/CheckPin.jsx"],"names":["axios","React","useState","useLocation","CheckPin","state","console","log","userCredentials","setUserCredentials","customError","setCustomError","checkCode","createRef","sixDigitCode","handleRegister","current","value","post","then","res","data","jwt","token","sessionStorage","setItem","window","location","href","catch","err","backgroundColor","height","textAlign","fontFamily","fontWeight","display","justifyContent","alignItems","width","border","outline","borderRadius","paddingLeft","marginTop","color"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nconst CheckPin = () => {\r\n  const {state} = useLocation();\r\n  console.log(state);\r\n  const [userCredentials, setUserCredentials] = useState(state);\r\n  const [customError, setCustomError] = useState();\r\n  \r\n  const checkCode = React.createRef();\r\n\r\n  console.log(userCredentials.sixDigitCode);\r\n\r\n  const handleRegister = async() => {\r\n    if(checkCode.current.value == userCredentials.sixDigitCode)\r\n    {\r\n        await axios.post(\"http://localhost:8000/auth/register\", userCredentials)\r\n        .then(res => {\r\n          console.log(res.data);\r\n          const jwt = res.data.token;\r\n          sessionStorage.setItem(\"secretToken\", jwt);\r\n          window.location.href = '/home';\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n    else{\r\n        setCustomError(\"Wrong Pin\")\r\n    }\r\n  }\r\n  return (\r\n    <div style={{backgroundColor: \"#e8e8e8\" , height: \"690px\"}}>\r\n      <h3 style={{textAlign: \"center\", fontFamily: \"'Poppins', sans-serif\", fontWeight: \"bold\"}}>Enter the 6 Digit Code</h3>\r\n      <div style={{display:\"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\r\n      {/* <h1>{userCredentials.sixDigitCode}</h1> */}\r\n      <div>\r\n      <input type=\"text\" placeholder='6 Digit Code' ref={checkCode} required style={{width: \"200px\", height: \"40px\", border: \"1px solid rgb(236, 89, 138)\", outline: \"none\", borderRadius: \"8px\", paddingLeft: \"10px\", fontFamily: \"'Poppins', sans-serif\", fontWeight: \"bold\", marginTop: \"20px\"}}/><br /><br />\r\n      {customError? <p style={{color: \"red\", fontFamily: \"'Poppins', sans-serif\", fontWeight: \"bold\" }}>{customError}</p> : ''}\r\n      <button onClick={handleRegister} style={{width: \"200px\", height: \"40px\", border: \"none\", outline: \"none\", backgroundColor: \"rgb(236, 89, 138)\", fontFamily: \"'Poppins', sans-serif\", fontWeight: \"bold\", borderRadius: \"8px\"}}>Confirm</button>\r\n      </div>\r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CheckPin\r\n"]},"metadata":{},"sourceType":"module"}